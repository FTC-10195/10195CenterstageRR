package org.firstinspires.ftc.teamcode.TeleOp;

import com.acmerobotics.dashboard.config.Config;
import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;
import com.qualcomm.robotcore.eventloop.opmode.TeleOp;

import org.firstinspires.ftc.teamcode.SubSys.Arm;
import org.firstinspires.ftc.teamcode.SubSys.Chamber;
import org.firstinspires.ftc.teamcode.SubSys.DropDown;
import org.firstinspires.ftc.teamcode.SubSys.MecanumDrive;
import org.firstinspires.ftc.teamcode.SubSys.SimpleBucket;
import org.firstinspires.ftc.teamcode.SubSys.Slides;

@TeleOp(group = "Matches")
@Config
public class UNC extends LinearOpMode {
    public static double bucketPos = 0;
    public static double dropPos = 0;
    public static double bucketServoPos = 0;

    @Override
    public void runOpMode() throws InterruptedException {
        MecanumDrive drive = new MecanumDrive(hardwareMap, telemetry);
        Slides slides = new Slides(hardwareMap);
        DropDown intake = new DropDown(hardwareMap);
        Chamber ber = new Chamber(hardwareMap);
        SimpleBucket bucket = new SimpleBucket(hardwareMap);
        Arm arm = new Arm(hardwareMap);
        //Declare motors

        waitForStart();

        if (isStopRequested()) return;

        while (opModeIsActive()) {


            drive.robotDrive(gamepad2.left_stick_y, gamepad2.left_stick_x, gamepad2.right_stick_x);
            // slides.manualControl( gamepad1.right_trigger > .01, gamepad1.left_trigger > .01);

            slides.manualControl(gamepad1.dpad_up, gamepad1.dpad_down);
            intake.move(gamepad1.dpad_left, gamepad1.dpad_right);
            intake.spin(gamepad1.a);


            //intake.manualMove(dropPos);
            if (gamepad1.right_trigger > .01) {
                ber.motorsPIN(gamepad1.right_trigger);
                ber.servoRoller(gamepad1.right_trigger);

            } else if (gamepad1.left_trigger > .01) {
                ber.motorsPIN(-gamepad1.left_trigger);
                ber.servoRoller(-gamepad1.left_trigger);


            }

           // arm.rotate(bucketPos);
          //  telemetry.addData("Trigger", gamepad1.right_trigger);
         //   telemetry.update();

            if (gamepad1.left_bumper) {
                arm.rotate(0);
            } else if (gamepad1.right_bumper) {
                arm.rotate(.70);
            }

            if (gamepad1.left_stick_button) {
                bucket.manualMove(0);

            } else if (gamepad1.right_stick_button) {
                bucket.manualMove(.06);

            }


        }
    }
}
